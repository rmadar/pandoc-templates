<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Romain Madar" />
  <title>Jupyter notebook custom conversion</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="/mnt/WorkRomain/pandoc-utils/templates/webstyle_template.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Jupyter notebook custom conversion</h1>
<p class="author">Romain Madar</p>
<p class="date">August 2018</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#nbconvert-latex-test"><span class="toc-section-number">1</span> nbconvert latex test</a></li>
<li><a href="#printing-using-python"><span class="toc-section-number">2</span> Printing using python</a></li>
<li><a href="#pyout-and-text-wrapping"><span class="toc-section-number">3</span> Pyout (and Text Wrapping)</a></li>
<li><a href="#image-and-plots"><span class="toc-section-number">4</span> Image and plots</a><ul>
<li><a href="#as-plain-text-using-markdown"><span class="toc-section-number">4.1</span> As plain text using markdown</a></li>
<li><a href="#plots-produced-by-the-code"><span class="toc-section-number">4.2</span> Plots produced by the code</a></li>
</ul></li>
<li><a href="#operator-highlighing-check"><span class="toc-section-number">5</span> Operator Highlighing Check</a></li>
<li><a href="#tables"><span class="toc-section-number">6</span> Tables</a><ul>
<li><a href="#markdown-as-plain-text"><span class="toc-section-number">6.1</span> Markdown as plain text</a></li>
<li><a href="#pandas-as-default-and-markdown"><span class="toc-section-number">6.2</span> Pandas as default and Markdown</a></li>
</ul></li>
<li><a href="#sympy-output"><span class="toc-section-number">7</span> Sympy output</a></li>
<li><a href="#line-length"><span class="toc-section-number">8</span> Line Length</a></li>
</ul>
</nav>
<h1 id="nbconvert-latex-test"><span class="header-section-number">1</span> nbconvert latex test</h1>
<p><strong>Lorem ipsum</strong> dolor sit amet, consectetur adipiscing elit. Nunc luctus bibendum felis dictum sodales. Ut suscipit, orci ut interdum imperdiet, purus ligula mollis <em>justo</em>, non malesuada nisl augue eget lorem. Donec bibendum, erat sit amet porttitor aliquam, urna lorem ornare libero, in vehicula diam diam ut ante. Nam non urna rhoncus, accumsan elit sit amet, mollis tellus. Vestibulum nec tellus metus. Vestibulum tempor, ligula et vehicula rhoncus, sapien turpis faucibus lorem, id dapibus turpis mauris ac orci. Sed volutpat vestibulum venenatis.</p>
<p>This is a test list:</p>
<ol type="1">
<li>item 1
<ul>
<li>subitem 1</li>
<li>subitem 2</li>
</ul></li>
<li>item 2</li>
<li>item 3</li>
</ol>
<h1 id="printing-using-python"><span class="header-section-number">2</span> Printing using python</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" data-line-number="1">next_paragraph <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">Aenean vitae diam consectetur, tempus arcu quis, ultricies urna. Vivamus venenatis sem </span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">quis orci condimentum, sed feugiat dui porta.</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">def</span> identity_dec(ob):</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="cf">return</span> ob</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="at">@identity_dec</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">def</span> nifty_print(text):</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    <span class="co">&quot;&quot;&quot;Used to test syntax highlighting&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    </a>
<a class="sourceLine" id="cb1-13" data-line-number="13">    <span class="bu">print</span>(text <span class="op">*</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14"></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">nifty_print(next_paragraph)</a></code></pre></div>
<pre><code>Aenean vitae diam consectetur, tempus arcu quis, ultricies urna. Vivamus venenatis sem 
quis orci condimentum, sed feugiat dui porta.

Aenean vitae diam consectetur, tempus arcu quis, ultricies urna. Vivamus venenatis sem 
quis orci condimentum, sed feugiat dui porta.</code></pre>
<h1 id="pyout-and-text-wrapping"><span class="header-section-number">3</span> Pyout (and Text Wrapping)</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" data-line-number="1">Text <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">Aliquam blandit aliquet enim, eget scelerisque eros adipiscing quis. Nunc sed metus </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">ut lorem condimentum condimentum nec id enim. Sed malesuada cursus hendrerit. Praesent </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">et commodo justo. Interdum et malesuada fames ac ante ipsum primis in faucibus. </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">Curabitur et magna ante. Proin luctus tellus sit amet egestas laoreet. Sed dapibus </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">neque ac nulla mollis cursus. Fusce mollis egestas libero mattis facilisis.</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="st">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">Text <span class="co">#Use print(Text) instead to get text wrapping in pdf</span></a></code></pre></div>
<pre><code>&#39;\nAliquam blandit aliquet enim, eget scelerisque eros adipiscing quis. Nunc sed metus \nut lorem condimentum condimentum nec id enim. Sed malesuada cursus hendrerit. Praesent \net commodo justo. Interdum et malesuada fames ac ante ipsum primis in faucibus. \nCurabitur et magna ante. Proin luctus tellus sit amet egestas laoreet. Sed dapibus \nneque ac nulla mollis cursus. Fusce mollis egestas libero mattis facilisis.\n&#39;</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="bu">print</span>(Text)</a></code></pre></div>
<pre><code>Aliquam blandit aliquet enim, eget scelerisque eros adipiscing quis. Nunc sed metus 
ut lorem condimentum condimentum nec id enim. Sed malesuada cursus hendrerit. Praesent 
et commodo justo. Interdum et malesuada fames ac ante ipsum primis in faucibus. 
Curabitur et magna ante. Proin luctus tellus sit amet egestas laoreet. Sed dapibus 
neque ac nulla mollis cursus. Fusce mollis egestas libero mattis facilisis.</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">a <span class="op">=</span> np.random.rand(<span class="dv">10</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="bu">print</span>(a)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">a</a></code></pre></div>
<pre><code>[[0.33520813 0.83802892 0.30638378 0.38113603 0.98836274 0.3172446
  0.2891722  0.85556341 0.43507086 0.30012501]
 [0.72346239 0.80083619 0.13257636 0.87316642 0.92948006 0.74320405
  0.23481632 0.40668767 0.16712725 0.30750508]
 [0.81563861 0.92361483 0.89628877 0.36067035 0.23212018 0.14908733
  0.23711083 0.52257131 0.93443301 0.8026964 ]
 [0.41528194 0.4899801  0.0821376  0.63104194 0.58999718 0.81522154
  0.98169928 0.94962063 0.24518478 0.0083764 ]
 [0.06521277 0.62424143 0.91099566 0.12911407 0.60840975 0.75929495
  0.5812828  0.99665643 0.98838358 0.66526654]
 [0.49082496 0.84909792 0.4039483  0.0475618  0.66595686 0.08073393
  0.59890437 0.13690958 0.07661237 0.37912384]
 [0.57472945 0.62644709 0.23593095 0.62563431 0.63357978 0.66468539
  0.32824805 0.92691036 0.77163918 0.58447959]
 [0.82486247 0.17073715 0.08648208 0.42765726 0.82815182 0.91285879
  0.32822903 0.81787713 0.89914425 0.07885086]
 [0.81687734 0.08903654 0.41934369 0.84451728 0.09955357 0.87224393
  0.50029571 0.07638133 0.09624543 0.10568888]
 [0.4685684  0.18253565 0.35690757 0.16782686 0.92045263 0.79418766
  0.74816995 0.82878518 0.1036162  0.99467706]]





array([[0.33520813, 0.83802892, 0.30638378, 0.38113603, 0.98836274,
        0.3172446 , 0.2891722 , 0.85556341, 0.43507086, 0.30012501],
       [0.72346239, 0.80083619, 0.13257636, 0.87316642, 0.92948006,
        0.74320405, 0.23481632, 0.40668767, 0.16712725, 0.30750508],
       [0.81563861, 0.92361483, 0.89628877, 0.36067035, 0.23212018,
        0.14908733, 0.23711083, 0.52257131, 0.93443301, 0.8026964 ],
       [0.41528194, 0.4899801 , 0.0821376 , 0.63104194, 0.58999718,
        0.81522154, 0.98169928, 0.94962063, 0.24518478, 0.0083764 ],
       [0.06521277, 0.62424143, 0.91099566, 0.12911407, 0.60840975,
        0.75929495, 0.5812828 , 0.99665643, 0.98838358, 0.66526654],
       [0.49082496, 0.84909792, 0.4039483 , 0.0475618 , 0.66595686,
        0.08073393, 0.59890437, 0.13690958, 0.07661237, 0.37912384],
       [0.57472945, 0.62644709, 0.23593095, 0.62563431, 0.63357978,
        0.66468539, 0.32824805, 0.92691036, 0.77163918, 0.58447959],
       [0.82486247, 0.17073715, 0.08648208, 0.42765726, 0.82815182,
        0.91285879, 0.32822903, 0.81787713, 0.89914425, 0.07885086],
       [0.81687734, 0.08903654, 0.41934369, 0.84451728, 0.09955357,
        0.87224393, 0.50029571, 0.07638133, 0.09624543, 0.10568888],
       [0.4685684 , 0.18253565, 0.35690757, 0.16782686, 0.92045263,
        0.79418766, 0.74816995, 0.82878518, 0.1036162 , 0.99467706]])</code></pre>
<h1 id="image-and-plots"><span class="header-section-number">4</span> Image and plots</h1>
<h2 id="as-plain-text-using-markdown"><span class="header-section-number">4.1</span> As plain text using markdown</h2>
<p>Once exported as markdown and converted to latex/pdf with pandoc, the <code>{width=60%}</code> will fix the width of the picture and the <code>My legend</code> will appear as caption:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="al">![My legend](figures/magnetostatics_field.png)</span>{width=50% #figlabel}</a></code></pre></div>
<p>gives the result showns in <a href="#figlabel">this figure</a>.</p>
<figure>
<img src="figures/magnetostatics_field.png" alt="My legend" id="figlabel" style="width:50.0%" /><figcaption>My legend</figcaption>
</figure>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="im">from</span> IPython.core.display <span class="im">import</span> Image</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">Image(data<span class="op">=</span><span class="st">&quot;http://ipython.org/_static/IPy_header.png&quot;</span>)</a></code></pre></div>
<figure>
<img src="test_files/test_13_0.png" alt="png" /><figcaption>png</figcaption>
</figure>
<h2 id="plots-produced-by-the-code" class="allowframebreaks"><span class="header-section-number">4.2</span> Plots produced by the code</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">300</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">y <span class="op">=</span> np.sin(x)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">plt.figure(figsize<span class="op">=</span>(<span class="dv">4</span>,<span class="dv">3</span>),dpi<span class="op">=</span><span class="dv">100</span>)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">p<span class="op">=</span>plt.plot(x,y)</a></code></pre></div>
<figure>
<img src="test_files/test_15_0.png" alt="png" /><figcaption>png</figcaption>
</figure>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="im">import</span> os</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">os.getcwd() </a></code></pre></div>
<pre><code>&#39;/mnt/WorkRomain/pandoc-utils/examples/NotebookWithCode&#39;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb14-1" data-line-number="1">plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">plt.plot(x,y)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">plt.xlabel(<span class="st">&#39;$X_</span><span class="sc">{e}</span><span class="st">$ [SI]&#39;</span>)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">plt.ylabel(<span class="st">&#39;$Y_</span><span class="sc">{UPDATE12}</span><span class="st">$ [SI]&#39;</span>)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">plt.tight_layout()</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">jpu.plt2md(<span class="st">&#39;myplot&#39;</span>,<span class="st">&#39;This is a test of how to get proper&#39;</span><span class="op">+\</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">       <span class="st">&#39;plot from Jupyter notebook in MD,&#39;</span><span class="op">+\</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">       <span class="st">&#39;to be processed using PANDOC&#39;</span>,<span class="st">&#39;100%&#39;</span>)</a></code></pre></div>
<figure>
<img src="myplot.png" alt="This is a test of how to get properplot from Jupyter notebook in MD,to be processed using PANDOC" id="myplot" style="width:100.0%" /><figcaption>This is a test of how to get properplot from Jupyter notebook in MD,to be processed using PANDOC</figcaption>
</figure>
<p>We can then refer to a given figure using cross-references <a href="#myplot">like this</a>, obtained with:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="ot">[like this](#myplot)</span></a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb16-1" data-line-number="1">plt.figure(figsize<span class="op">=</span>(<span class="dv">3</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">plt.plot(np.sqrt(np.<span class="bu">abs</span>(x)),y<span class="op">**</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">plt.xlabel(<span class="st">&#39;$X_</span><span class="sc">{e}</span><span class="st">$ [SI]&#39;</span>)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">plt.ylabel(<span class="st">&#39;$Y_</span><span class="sc">{OTHER}</span><span class="st">$ [SI]&#39;</span>)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">plt.tight_layout()</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">jpu.plt2md(<span class="st">&#39;myplot2&#39;</span>,<span class="st">&#39;This is another test of how to get proper&#39;</span><span class="op">+\</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7">       <span class="st">&#39;plot from Jupyter notebook in MD,&#39;</span><span class="op">+\</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8">       <span class="st">&#39;to be processed using PANDOC&#39;</span>,<span class="st">&#39;50%&#39;</span>)</a></code></pre></div>
<figure>
<img src="myplot2.png" alt="This is another test of how to get properplot from Jupyter notebook in MD,to be processed using PANDOC" id="myplot2" style="width:50.0%" /><figcaption>This is another test of how to get properplot from Jupyter notebook in MD,to be processed using PANDOC</figcaption>
</figure>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb17-1" data-line-number="1">plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">plt.plot(x<span class="op">**</span><span class="dv">3</span>,y)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">plt.plot(x<span class="op">**</span><span class="dv">3</span>,y<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">plt.xlabel(<span class="st">&#39;test&#39;</span>)</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">plt.ylabel(<span class="st">&#39;test2&#39;</span>)</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">plt.tight_layout()</a>
<a class="sourceLine" id="cb17-7" data-line-number="7">jpu.plt2md(<span class="st">&#39;myplot3&#39;</span>,<span class="st">&#39;Adding more plot without re-creating a figure: curves cumulates&#39;</span>,<span class="st">&#39;50%&#39;</span>)</a></code></pre></div>
<figure>
<img src="myplot3.png" alt="Adding more plot without re-creating a figure: curves cumulates" id="myplot3" style="width:50.0%" /><figcaption>Adding more plot without re-creating a figure: curves cumulates</figcaption>
</figure>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb18-1" data-line-number="1">plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">plt.plot(x<span class="op">**</span><span class="dv">2</span>,y)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">plt.xlabel(<span class="st">&#39;$X_{\omega} [Hz]$&#39;</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">plt.ylabel(<span class="st">&#39;$Y_{</span><span class="ch">\\</span><span class="st">varphi}$ [$\hbar$]&#39;</span>)</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">plt.title(<span class="st">&#39;My beautiul plot&#39;</span>)</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">plt.tight_layout()</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">jpu.plt2md(<span class="st">&#39;myplot4&#39;</span>,<span class="st">&#39;More plot with re-creating a figure: only last curve&#39;</span>,<span class="st">&#39;100%&#39;</span>)</a></code></pre></div>
<figure>
<img src="myplot4.png" alt="More plot with re-creating a figure: only last curve" id="myplot4" style="width:100.0%" /><figcaption>More plot with re-creating a figure: only last curve</figcaption>
</figure>
<h1 id="operator-highlighing-check"><span class="header-section-number">5</span> Operator Highlighing Check</h1>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co">#This is a comment with an operation x @ y in it.</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">test <span class="op">=</span> <span class="dv">5</span><span class="op">**</span><span class="dv">9</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">-</span> x <span class="op">@</span> y <span class="op">/</span> (<span class="dv">7</span> <span class="op">%</span> <span class="dv">2</span>) <span class="op">+</span> <span class="va">True</span> <span class="op">*</span> <span class="dv">7</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="bu">print</span>(test)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">a <span class="op">=</span> <span class="bu">set</span>([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">0</span>])</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">b <span class="op">=</span> <span class="bu">set</span>([<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">0</span>])</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">a <span class="op">&amp;</span> b</a></code></pre></div>
<pre><code>1952904.9236703357





{0, 2, 4, 6, 8}</code></pre>
<h1 id="tables"><span class="header-section-number">6</span> Tables</h1>
<h2 id="markdown-as-plain-text"><span class="header-section-number">6.1</span> Markdown as plain text</h2>
<p>First a <em>markdown</em> <a href="#tbl:label1">table</a>:</p>
<div id="tbl:label1">
<table>
<caption>Table 1: my caption</caption>
<thead>
<tr class="header">
<th>Column 1</th>
<th>Column 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>3</td>
</tr>
<tr class="even">
<td><del>a</del></td>
<td>b</td>
</tr>
<tr class="odd">
<td>4</td>
<td>&amp;</td>
</tr>
</tbody>
</table>
</div>
<h2 id="pandas-as-default-and-markdown" class="allowframebreaks"><span class="header-section-number">6.2</span> Pandas as default and Markdown</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">df<span class="op">=</span>pd.DataFrame(np.random.randn(<span class="dv">10</span>,<span class="dv">3</span>))</a></code></pre></div>
<p>Default printing is HTML, so it looks good on the web but it is not well rendered in pdf via ipynb-&gt;MB-&gt;pdf (using nbconvert and pandoc). A special function <code>df2md(df)</code> is included in the <code>jupy_pandoc_utils</code> package to write out a markdown format. This allows to set caption and even to refer to the table in the main document <a href="#tbl:label2">like this</a> (using vanilla pandoc) or cited like table Tbl. 2 (using pandoc-crossref filter, but hyperlink doesn’t seem to work in HTML though)</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="co"># Good in HTML, but not pure markdown</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co"># Impossible to put a caption</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">df.describe()</a></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
0
</th>
<th>
1
</th>
<th>
2
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
count
</th>
<td>
10.000000
</td>
<td>
10.000000
</td>
<td>
10.000000
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
0.217754
</td>
<td>
0.045411
</td>
<td>
-0.249525
</td>
</tr>
<tr>
<th>
std
</th>
<td>
0.793298
</td>
<td>
0.796672
</td>
<td>
0.611138
</td>
</tr>
<tr>
<th>
min
</th>
<td>
-1.614746
</td>
<td>
-1.356715
</td>
<td>
-1.066773
</td>
</tr>
<tr>
<th>
25%
</th>
<td>
-0.069524
</td>
<td>
-0.463006
</td>
<td>
-0.700146
</td>
</tr>
<tr>
<th>
50%
</th>
<td>
0.283010
</td>
<td>
0.082283
</td>
<td>
-0.181110
</td>
</tr>
<tr>
<th>
75%
</th>
<td>
0.831086
</td>
<td>
0.507939
</td>
<td>
0.240598
</td>
</tr>
<tr>
<th>
max
</th>
<td>
1.029950
</td>
<td>
1.491542
</td>
<td>
0.492206
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># Good in pure MD and possible to put a caption and a label</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">jpu.df2md(df.describe(),<span class="st">&#39;Caption table&#39;</span>,<span class="st">&#39;#tbl:label2&#39;</span>)</a></code></pre></div>
<div id="tbl:label2">
<table>
<caption>Table 2: Caption table.</caption>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>labels</strong></th>
<th style="text-align: right;">0</th>
<th style="text-align: right;">1</th>
<th style="text-align: right;">2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>count</strong></td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>mean</strong></td>
<td style="text-align: right;">0.217754</td>
<td style="text-align: right;">0.0454111</td>
<td style="text-align: right;">-0.249525</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>std</strong></td>
<td style="text-align: right;">0.793298</td>
<td style="text-align: right;">0.796672</td>
<td style="text-align: right;">0.611138</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>min</strong></td>
<td style="text-align: right;">-1.61475</td>
<td style="text-align: right;">-1.35671</td>
<td style="text-align: right;">-1.06677</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>25%</strong></td>
<td style="text-align: right;">-0.0695244</td>
<td style="text-align: right;">-0.463006</td>
<td style="text-align: right;">-0.700146</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>50%</strong></td>
<td style="text-align: right;">0.28301</td>
<td style="text-align: right;">0.0822832</td>
<td style="text-align: right;">-0.18111</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>75%</strong></td>
<td style="text-align: right;">0.831086</td>
<td style="text-align: right;">0.507939</td>
<td style="text-align: right;">0.240598</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>max</strong></td>
<td style="text-align: right;">1.02995</td>
<td style="text-align: right;">1.49154</td>
<td style="text-align: right;">0.492206</td>
</tr>
</tbody>
</table>
</div>
<p>One might want to display table without showing the code which leads to it, especially in a proper documentation. The following block will display the table in the final document but not the line</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb24-1" data-line-number="1">jpu.df2md(df.describe(),<span class="st">&#39;Caption table with hidden source code this time. {#tbl:label3}&#39;</span>)</a></code></pre></div>
<p>which produces it, as shown in Tbl. 3</p>
<div id="tbl:label3">
<table>
<caption>Table 3: Caption table with hidden source code this time</caption>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>labels</strong></th>
<th style="text-align: right;">0</th>
<th style="text-align: right;">1</th>
<th style="text-align: right;">2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>count</strong></td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>mean</strong></td>
<td style="text-align: right;">0.217754</td>
<td style="text-align: right;">0.0454111</td>
<td style="text-align: right;">-0.249525</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>std</strong></td>
<td style="text-align: right;">0.793298</td>
<td style="text-align: right;">0.796672</td>
<td style="text-align: right;">0.611138</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>min</strong></td>
<td style="text-align: right;">-1.61475</td>
<td style="text-align: right;">-1.35671</td>
<td style="text-align: right;">-1.06677</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>25%</strong></td>
<td style="text-align: right;">-0.0695244</td>
<td style="text-align: right;">-0.463006</td>
<td style="text-align: right;">-0.700146</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>50%</strong></td>
<td style="text-align: right;">0.28301</td>
<td style="text-align: right;">0.0822832</td>
<td style="text-align: right;">-0.18111</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>75%</strong></td>
<td style="text-align: right;">0.831086</td>
<td style="text-align: right;">0.507939</td>
<td style="text-align: right;">0.240598</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>max</strong></td>
<td style="text-align: right;">1.02995</td>
<td style="text-align: right;">1.49154</td>
<td style="text-align: right;">0.492206</td>
</tr>
</tbody>
</table>
</div>
<h1 id="sympy-output"><span class="header-section-number">7</span> Sympy output</h1>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="im">import</span> sympy</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="im">from</span> sympy.abc <span class="im">import</span> x, n, m</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">sympy.init_printing()</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">theta <span class="op">=</span> sympy.Symbol(<span class="st">&#39;theta&#39;</span>)</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">phi <span class="op">=</span> sympy.Symbol(<span class="st">&#39;phi&#39;</span>)</a>
<a class="sourceLine" id="cb25-6" data-line-number="6"></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">sympy.simplify(sympy.Ynm(n,m,theta,phi).expand(func<span class="op">=</span><span class="va">True</span>))</a></code></pre></div>
<p><span class="math display">\[\frac{\sqrt{\frac{\left(2 n + 1\right) \Gamma\left(- m + n + 1\right)}{\Gamma\left(m + n + 1\right)}} e^{i m \phi} P_{n}^{\left(m\right)}\left(\cos{\left (\theta \right )}\right)}{2 \sqrt{\pi}}\]</span></p>
<p>x + y as plain text.</p>
<p><span class="math inline">\(\frac{P_{n}^{\left(m\right)}\left(\cos{\left (\theta \right )}\right)}{2 \sqrt{\pi}} \sqrt{\frac{\left(- m + n\right)!}{\left(m + n\right)!} \left(2 n + 1\right)} e^{i m \phi}\)</span></p>
<h1 id="line-length"><span class="header-section-number">8</span> Line Length</h1>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="dv">1</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">9</span> <span class="dv">12</span> <span class="dv">15</span> <span class="dv">18</span> <span class="dv">21</span> <span class="dv">24</span> <span class="dv">27</span> <span class="dv">30</span> <span class="dv">33</span> <span class="dv">36</span> <span class="dv">39</span> <span class="dv">42</span> <span class="dv">45</span> <span class="dv">48</span> <span class="dv">51</span> <span class="dv">54</span> <span class="dv">57</span> <span class="dv">60</span> <span class="dv">63</span> <span class="dv">66</span> <span class="dv">69</span> <span class="dv">72</span> <span class="dv">75</span> <span class="dv">78</span> <span class="dv">81</span> <span class="dv">84</span> <span class="dv">87</span> <span class="dv">90</span> <span class="dv">93</span> <span class="dv">96</span> <span class="dv">99</span> <span class="dv">103</span></a></code></pre></div>
</body>
</html>
